```SQL
SELECT *
FROM emp
WHERE (sal>=2000 OR sal+nvl(comm,0)>=2000)
    AND deptno = 30;
```
---
```SQL
SELECT *
FROM EMP
WHERE LOWER(ENAME) = ENAME;
```
---
```SQL
SELECT EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM, DEPTNO FROM emp 
WHERE (ENAME LIKE '%@%%' escape '@' ) OR (upper(ENAME) LIKE '%I%')

SELECT *
FROM EMP
WHERE LOWER(ENAME) LIKE '%i%'
    OR ENAME LIKE '%/%%' ESCAPE '/';
```
---
```SQL
SELECT *
FROM EMP
WHERE MGR NOT IN (7698,7839)
    AND MGR IS NOT NULL;
```
---
```SQL
SELECT EMPNO
,RPAD(ENAME, 1,1)||(LPAD(SUBSTRB(ENAME,LENGTH(ENAME)-0,1), LENGTH(ENAME)-1, '*')) AS MASKING_ENAME
,JOB
,HIREDATE
FROM EMP;
```
---
```SQL
SELECT DISTINCT JOB
, ROUND(AVG(CASE WHEN TO_NUMBER(TO_CHAR(HIREDATE, 'MM')) BETWEEN 1 AND 3 THEN SAL END)) AS "1Q"
, ROUND(AVG(CASE WHEN TO_NUMBER(TO_CHAR(HIREDATE, 'MM')) BETWEEN 4 AND 6 THEN SAL END)) AS "2Q"
, ROUND(AVG(CASE WHEN TO_NUMBER(TO_CHAR(HIREDATE, 'MM')) BETWEEN 7 AND 9 THEN SAL END)) AS "3Q"
, ROUND(AVG(CASE WHEN TO_NUMBER(TO_CHAR(HIREDATE, 'MM')) BETWEEN 10 AND 12 THEN SAL END)) AS "4Q"
FROM EMP
GROUP BY JOB;
```
---
```SQL
SELECT JOB, ROUND(AVG(SAL + NVL(COMM, SAL/2)),2) AS AVG_SAL
FROM EMP 
GROUP BY JOB
HAVING ROUND(AVG(SAL + NVL(COMM, SAL/2)),2) < 2000;

SELECT JOB, ROUND(AVG(SAL)) AVG_SAL
FROM EMP
GROUP BY
HAVING AVG(CASE WHEN COMM IS NULL THEN SAL*1.5
                ELSE SAL+NVL(COMM, 0) 
                END) < 2000;
```
---
```SQL
SELECT *
FROM (SELECT JOB, EMPNO, ENAME, TOT_SAL
		FROM (
                SELECT JOB, EMPNO, ENAME , ROUND(SAL + NVL(COMM, 0)) AS TOT_SAL
	  		    FROM EMP
	  		    ORDER BY TOT_SAL DESC
             )
		WHERE ROWNUM <= 10
		ORDER BY TOT_SAL ASC)
WHERE ROWNUM <= 5
ORDER BY TOT_SAL DESC
```
---
```SQL
SELECT JOB, max(Z) MAX_AVG_SAL 
FROM (
        SELECT JOB, AVG(sal) Z, to_char(HIREDATE,'YYYY-MM') X 
        FROM emp 
        GROUP BY JOB, to_char(HIREDATE,'YYYY-MM') 
        ORDER BY JOB
     ) 
GROUP BY JOB 
ORDER BY MAX_AVG_SAL DESC
```
---
```SQL
SELECT JOB, ROUND(AVG(SAL+ NVL(COMM,0))) AS AVG_TOT_SAL
FROM EMP
GROUP BY JOB 
ORDER BY CASE when 3000 > AVG_TOT_SAL THEN job 
         ELSE to_char(AVG_TOT_SAL) END desc;
```
---