```sql
SELECT ENAME, SAL, COMM
FROM ( SELECT ENAME, SAL, NVL(COMM,0) AS COMM 
	   FROM EMP )
WHERE SAL+COMM >= 2500
;
```

ENAME |SAL |COMM|
------+----+----+
JONES |2975|   0|
MARTIN|1250|1400|
BLAKE |2850|   0|
SCOTT |3000|   0|
KING  |5000|   0|
FORD  |3000|   0|
---
```sql
-- 급여가 1500미만이고, 부서번호가 20이상인 사원(부서번호, 사원번호 오름차순)

SELECT EMPNO, ENAME, A.DEPTNO, B.DEPTNO AS D_DEPTNO, DNAME, GRADE
FROM EMP A, DEPT B, SALGRADE
WHERE A.DEPTNO = B.DEPTNO
	  AND B.DEPTNO >= 20
	  AND A.SAL < 1500
	  AND (A.SAL BETWEEN LOSAL AND HISAL)
ORDER BY DEPTNO, EMPNO
;


EMPNO|ENAME |DEPTNO|D_DEPTNO|DNAME   |GRADE|
-----+------+------+--------+--------+-----+
 7369|SMITH |    20|      20|RESEARCH|    1|
 7876|ADAMS |    20|      20|RESEARCH|    1|
 7521|WARD  |    30|      30|SALES   |    2|
 7654|MARTIN|    30|      30|SALES   |    2|
 7900|JAMES |    30|      30|SALES   |    1|
```
---
```sql
SELECT EMPNO, ENAME, DEPTNO, D_DEPTNO, GRADE
FROM (
SELECT EMPNO, ENAME, A.DEPTNO, B.DEPTNO AS D_DEPTNO, A.SAL
	FROM EMP A 
		 RIGHT OUTER JOIN DEPT B
	  		ON A.DEPTNO = B.DEPTNO
	WHERE B.DEPTNO >= 30
	  	AND NVL(A.SAL,0) < 1500
	ORDER BY DEPTNO, EMPNO
) LEFT OUTER JOIN SALGRADE
ON (SAL BETWEEN LOSAL AND HISAL) 
   AND GRADE = 1
;

EMPNO|ENAME |DEPTNO|D_DEPTNO|GRADE|
-----+------+------+--------+-----+
 7521|WARD  |    30|      30|     |
 7654|MARTIN|    30|      30|     |
 7900|JAMES |    30|      30|    1|
     |      |      |      40|     |
```
---
```SQL
SELECT *
FROM DEPT b
WHERE NOT EXISTS 
	(SELECT DEPTNO, DNAME, LOC 
	 FROM EMP a
	 WHERE b.DEPTNO = a.DEPTNO
	 	AND SAL >= 3000
)
;

DEPTNO|DNAME     |LOC    |
------+----------+-------+
    30|SALES     |CHICAGO|
    40|OPERATIONS|BOSTON |
```
---
```SQL
SELECT ENAME, HIREDATE, COMM 
FROM EMP
WHERE DEPTNO IN (
					SELECT DEPTNO
					FROM EMP
					WHERE COMM > 0
				)
;

ENAME |HIREDATE               |COMM|
------+-----------------------+----+
ALLEN |1981-02-20 00:00:00.000| 300|
WARD  |1981-02-22 00:00:00.000| 500|
MARTIN|1981-09-28 00:00:00.000|1400|
BLAKE |1981-05-01 00:00:00.000|    |
TURNER|1981-09-08 00:00:00.000|   0|
JAMES |1981-12-03 00:00:00.000|    |
```
---
```SQL
SELECT ENAME, JOB, SAL, DEPTNO
FROM EMP A, (SELECT AVG(SAL) AS AVG_SAL FROM EMP B)
WHERE SAL > AVG_SAL
ORDER BY SAL DESC
;

ENAME|JOB      |SAL |DEPTNO|
-----+---------+----+------+
KING |PRESIDENT|5000|    10|
FORD |ANALYST  |3000|    20|
SCOTT|ANALYST  |3000|    20|
JONES|MANAGER  |2975|    20|
BLAKE|MANAGER  |2850|    30|
CLARK|MANAGER  |2450|    10|
```
---
```sql
SELECT EMPNO, ENAME, JOB, SAL, AVG_SAL
FROM EMP A, 
		   ( 
		   	 SELECT B.DEPTNO, ROUND(AVG(SAL)) AS AVG_SAL 
			 FROM EMP B
			 GROUP BY DEPTNO
		   ) B
WHERE A.DEPTNO = B.DEPTNO
;

EMPNO|ENAME |JOB      |SAL |AVG_SAL|
-----+------+---------+----+-------+
 7369|SMITH |CLERK    | 800|   2175|
 7499|ALLEN |SALESMAN |1600|   1567|
 7521|WARD  |SALESMAN |1250|   1567|
 7566|JONES |MANAGER  |2975|   2175|
 7654|MARTIN|SALESMAN |1250|   1567|
 7698|BLAKE |MANAGER  |2850|   1567|
 7782|CLARK |MANAGER  |2450|   2917|
 7788|SCOTT |ANALYST  |3000|   2175|
 7839|KING  |PRESIDENT|5000|   2917|
 7844|TURNER|SALESMAN |1500|   1567|
 7876|ADAMS |CLERK    |1100|   2175|
 7900|JAMES |CLERK    | 950|   1567|
 7902|FORD  |ANALYST  |3000|   2175|
 7934|MILLER|CLERK    |1300|   2917|
```
---
```SQL
SELECT DEPTNO, DNAME
FROM DEPT A
WHERE EXISTS (
                SELECT * 
                FROM EMP B
                WHERE SAL >= 3000
                AND A.DEPTNO = B.DEPTNO
             )
;

DEPTNO|DNAME     |
------+----------+
    10|ACCOUNTING|
    20|RESEARCH  |
```
---
```SQL
SELECT ENAME, EMPNO
FROM EMP A
WHERE NOT EXISTS (
					SELECT * 
					FROM EMP B
					WHERE A.EMPNO = B.MGR
				 )
;

ENAME |EMPNO|
------+-----+
SMITH | 7369|
ALLEN | 7499|
WARD  | 7521|
MARTIN| 7654|
TURNER| 7844|
ADAMS | 7876|
JAMES | 7900|
MILLER| 7934|
```
---
```SQL
SELECT JOB
FROM EMP 
WHERE NVL(COMM, 0) > 0
UNION
SELECT JOB 
FROM EMP 
WHERE SAL > 1500
;

JOB      |
---------+
ANALYST  |
MANAGER  |
PRESIDENT|
SALESMAN |
```
---
```SQL
SELECT MGR 
FROM EMP A
WHERE JOB = 'CLERK'
UNION 
SELECT MGR 
FROM EMP A
WHERE JOB = 'MANAGER'
;

MGR |
----+
7698|
7782|
7788|
7839|
7902|
```
---
```SQL

SELECT DEPTNO
FROM EMP A
MINUS 
SELECT DEPTNO
FROM EMP 
WHERE JOB = 'SALESMAN'
;

DEPTNO|
------+
    10|
    20|
```